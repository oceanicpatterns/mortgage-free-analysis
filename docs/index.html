<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mortgage Planning Sandbox</title>
    <meta name="description" content="Launch page for the Mortgage Planning Sandbox Streamlit app." />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <main class="wrap">
      <section class="hero">
        <p class="eyebrow">Oceanic Patterns</p>
        <h1>Mortgage Planning Sandbox</h1>
        <p class="lead">
          GitHub Pages hosts this static landing page. The interactive app runs on Streamlit.
        </p>
        <div class="actions">
          <a id="open-app" class="btn primary" href="#" target="_blank" rel="noopener">Open Streamlit App</a>
          <a class="btn ghost" href="https://github.com/oceanicpatterns/mortgage-free-analysis" target="_blank" rel="noopener">View Source</a>
        </div>
        <p class="hint">
          If the app link is not configured yet, this button remains disabled.
        </p>
      </section>

      <section class="card">
        <h2>Optional Embedded View</h2>
        <p>
          Once your Streamlit URL is set, the app can also be embedded below (subject to browser and hosting iframe policies).
        </p>
        <div class="frame-wrap">
          <iframe id="app-frame" title="Streamlit App" loading="lazy"></iframe>
        </div>
      </section>
    </main>

    <script>
      // Set this to your deployed Streamlit URL after deployment.
      const STREAMLIT_URL = "https://mortgage-free-analysis.streamlit.app/";

      const openBtn = document.getElementById("open-app");
      const frame = document.getElementById("app-frame");

      if (STREAMLIT_URL && STREAMLIT_URL.startsWith("http")) {
        openBtn.href = STREAMLIT_URL;
        frame.src = STREAMLIT_URL;
      } else {
        openBtn.classList.add("disabled");
        openBtn.setAttribute("aria-disabled", "true");
        openBtn.addEventListener("click", (event) => event.preventDefault());
        frame.replaceWith(Object.assign(document.createElement("p"), {
          className: "hint",
          textContent: "Set STREAMLIT_URL in docs/index.html to enable launch and embed."
        }));
      }
    </script>
  </body>
</html>
